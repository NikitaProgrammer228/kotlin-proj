# Отладка на планшете Huawei

## ✅ Да, можно отлаживать на Huawei планшете!

Приложение полностью совместимо с планшетами Huawei. Все стандартные инструменты отладки работают.

## Настройка отладки на Huawei

### 1. Включение режима разработчика

1. Откройте **Настройки** → **О телефоне**
2. Найдите **Номер сборки** (или **Build number**)
3. Нажмите на **Номер сборки** **7 раз** подряд
4. Появится сообщение "Вы стали разработчиком!" (или "You are now a developer!")

### 2. Включение USB-отладки

1. Откройте **Настройки** → **Система и обновление** → **Для разработчиков**
   - Или **Настройки** → **Дополнительные настройки** → **Для разработчиков** (зависит от версии EMUI)
2. Включите **Отладка по USB** (USB debugging)
3. Включите **Оставаться активным** (Stay awake) - опционально, но полезно

### 3. Особенности Huawei (EMUI)

#### Автоматическое отключение отладки
Huawei может автоматически отключать USB-отладку через некоторое время для безопасности.

**Решение:**
- В настройках разработчика включите **Отключить мониторинг USB** (Disable USB debugging monitoring)
- Или **Отключить проверку USB-отладки** (Disable USB debugging verification)

#### Разрешение на отладку
При первом подключении появится диалог "Разрешить отладку по USB?" с чекбоксом "Всегда разрешать с этого компьютера".

**Важно:** Поставьте галочку, чтобы не подтверждать каждый раз.

### 4. Подключение к компьютеру

1. Подключите планшет к компьютеру через USB-кабель
2. На планшете выберите режим подключения: **Передача файлов** (File Transfer) или **MTP**
3. На компьютере откройте терминал и проверьте подключение:
   ```bash
   adb devices
   ```
4. Должно появиться что-то вроде:
   ```
   List of devices attached
   ABC123XYZ    device
   ```

### 5. Если устройство не определяется

#### Проверка драйверов
- Установите **HiSuite** (официальная программа Huawei) - она установит нужные драйверы
- Или используйте универсальные драйверы ADB

#### Проверка кабеля
- Используйте качественный USB-кабель (желательно оригинальный)
- Некоторые кабели поддерживают только зарядку, но не передачу данных

#### Альтернатива: Wi-Fi отладка
Если USB не работает, можно использовать Wi-Fi:

1. На планшете: **Для разработчиков** → **Отладка по Wi‑Fi** → включите
2. Подключите планшет и компьютер к одной Wi‑Fi сети
3. На планшете найдите IP-адрес и порт (например, `192.168.1.100:5555`)
4. На компьютере выполните:
   ```bash
   adb connect 192.168.1.100:5555
   ```

### 6. Отладка через Android Studio

1. Откройте проект в Android Studio
2. Подключите планшет
3. В Android Studio выберите устройство в выпадающем списке (рядом с кнопкой Run)
4. Нажмите **Run** или **Debug**

### 7. Отладка через командную строку

```bash
# Проверка подключения
adb devices

# Установка приложения
./gradlew installDebug

# Запуск приложения
adb shell am start -n com.accelerometer.app/.ui.MainActivity

# Просмотр логов
adb logcat -s BluetoothAccelerometer:* AccelerometerApp:*

# Очистка логов
adb logcat -c
```

## Особенности для планшетов

### Разрешения экрана
Планшеты имеют больший экран, поэтому убедитесь, что:
- UI корректно масштабируется
- Графики отображаются правильно
- Все элементы интерфейса доступны

### Bluetooth на планшетах
- Планшеты Huawei обычно имеют хорошую поддержку BLE
- Убедитесь, что Bluetooth включен
- Проверьте, что приложение получило все необходимые разрешения

## Проверка совместимости

### Минимальные требования приложения:
- **minSdk 26** (Android 8.0)
- **targetSdk 34** (Android 14)

### Проверка версии Android на планшете:
1. **Настройки** → **О телефоне** → **Версия Android**
2. Убедитесь, что версия **8.0 или выше**

## Возможные проблемы и решения

### Проблема: "Устройство не авторизовано"
**Решение:** 
- На планшете появится диалог "Разрешить отладку по USB?"
- Поставьте галочку "Всегда разрешать с этого компьютера"
- Нажмите "Разрешить"

### Проблема: ADB видит устройство как "unauthorized"
**Решение:**
```bash
# Отключите и снова подключите USB
adb kill-server
adb start-server
adb devices
```

### Проблема: Приложение не устанавливается
**Решение:**
- Проверьте, что включена установка из неизвестных источников (если нужно)
- Проверьте, что на планшете достаточно места
- Проверьте логи: `adb logcat | grep -i error`

### Проблема: Bluetooth не работает
**Решение:**
- Убедитесь, что Bluetooth включен на планшете
- Проверьте разрешения приложения в настройках
- Перезапустите приложение после выдачи разрешений

## Полезные команды для отладки

```bash
# Полная информация об устройстве
adb shell getprop ro.build.version.release
adb shell getprop ro.product.model
adb shell getprop ro.product.manufacturer

# Список установленных приложений
adb shell pm list packages | grep accelerometer

# Очистка данных приложения
adb shell pm clear com.accelerometer.app

# Перезапуск приложения
adb shell am force-stop com.accelerometer.app
adb shell am start -n com.accelerometer.app/.ui.MainActivity

# Скриншот экрана
adb shell screencap -p /sdcard/screenshot.png
adb pull /sdcard/screenshot.png
```

## Рекомендации

1. **Используйте Android Studio** для полноценной отладки с breakpoints
2. **Проверяйте логи** через `adb logcat` или в Android Studio
3. **Тестируйте на реальном устройстве** - эмуляторы не поддерживают Bluetooth
4. **Сохраняйте логи** для анализа проблем:
   ```bash
   adb logcat > debug_log.txt
   ```

## Дополнительная информация

- [Официальная документация Android Debug Bridge](https://developer.android.com/studio/command-line/adb)
- [Huawei Developer Support](https://developer.huawei.com/)

---

**Примечание:** Все функции приложения (Bluetooth, графики, база данных) работают на планшетах Huawei так же, как и на других Android-устройствах. Никаких специальных настроек не требуется!

