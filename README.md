# Accelerometer App

Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Kotlin –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Bluetooth –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Bluetooth –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—É
- üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –æ—Å—è–º X –∏ Y –Ω–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º–∞—Ö
- üìà –†–∞—Å—á–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (Stability) –ø–æ —Ñ–æ—Ä–º—É–ª–µ MicroSwing¬Æ 6
- üìâ –†–∞—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã –∫–æ–ª–µ–±–∞–Ω–∏–π (Oscillation frequency)
- üë• –õ–æ–∫–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –§–æ—Ä–º—É–ª—ã

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (Stability)
```
Stability = ( 4000 - ( Œ£_{n=2}^{NumberOfValues} ‚àö((x_n - x_{n-1})^2 + (y_n - y_{n-1})^2) / NumberOfValues ) ) / 40
```

### –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–ª–µ–±–∞–Ω–∏–π (Oscillation frequency)
```
Oscillation frequency = (NumberOfAmplitudes X-Direction + NumberOfAmplitudes Y-Direction) / Time √ó Correction factor
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Kotlin
- Android SDK
- Bluetooth Low Energy (BLE)
- WitMotion BLE 5.0 SDK (–ª–æ–∫–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `wit-sdk`)
- Room Database
- MPAndroidChart –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- Material Design Components
- ViewBinding
- Coroutines & Flow

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Android 8.0 (API 26) –∏–ª–∏ –≤—ã—à–µ
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Bluetooth Low Energy
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è:
  - BLUETOOTH
  - BLUETOOTH_ADMIN
  - BLUETOOTH_CONNECT (Android 12+)
  - BLUETOOTH_SCAN (Android 12+)
  - ACCESS_FINE_LOCATION

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio –∏–ª–∏ Cursor
3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ Gradle –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç–º—É–ª—è—Ç–æ—Ä
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
# –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
./gradlew installDebug

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
./scripts/build-and-install.sh  # Linux/Mac
scripts\build-and-install.bat   # Windows
```

## –û—Ç–ª–∞–¥–∫–∞

**–í–∞–∂–Ω–æ:** Cursor –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—É—é –æ—Ç–ª–∞–¥–∫—É Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å breakpoints.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- üêõ **Android Studio** - –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ —Å breakpoints
- üíª **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞** - –¥–ª—è —Å–±–æ—Ä–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
- üìù **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤—å—Ç–µ `Log.d()` –≤ –∫–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–∫–µ –≤ —Ñ–∞–π–ª–µ [DEBUG.md](DEBUG.md)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å –∏—â–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –∏–º–µ–Ω–∞–º–∏ `WT`, `BWT`, `WT901` –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ –º/—Å¬≤.

–ß—Ç–æ–±—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

- –ø–æ–º–µ–Ω—è–π—Ç–µ —Å–ø–∏—Å–æ–∫ `DEVICE_NAME_FILTER` –≤ `BluetoothAccelerometerService`, –µ—Å–ª–∏ –≤–∞—à WT9011DCL –≤–µ—â–∞–µ—Ç –ø–æ–¥ –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º;
- –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `parseAcceleration()` –≤ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–∏—Å–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è (–º–º/—Å¬≤, —Å–º/—Å¬≤ –∏ —Ç.–¥.) –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã;
- –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã `Bwt901ble` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥ (—á–∞—Å—Ç–æ—Ç–∞, –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞), SDK —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WitMotion SDK

–í –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á—ë–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π SDK –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è (`app/libs/wit-sdk.aar`). –û–Ω –ø–æ–¥–∫–ª—é—á—ë–Ω –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Gradle –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ë—Ä—Ç–æ–∫. –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å SDK:

1. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `app/libs/wit-sdk.aar` –Ω–∞ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –ø–∞–∫–µ—Ç–∞ WitMotion.
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `implementation(name: 'wit-sdk', ext: 'aar')` –æ—Å—Ç–∞—ë—Ç—Å—è –≤ `app/build.gradle` (–º–æ–¥—É–ª—å `:bluetoothkit` —É–∂–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π —Å—Ç–µ–∫ `com.inuker.bluetooth` –ª–æ–∫–∞–ª—å–Ω–æ).
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Äî –≤—Å–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã (`Bwt901ble`, `WitBluetoothManager` –∏ —Ç.–¥.) –±–µ—Ä—É—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ AAR.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ src/main/
‚îÇ   ‚îú‚îÄ‚îÄ java/com/accelerometer/app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bluetooth/          # Bluetooth —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/                # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/            # Room –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã (–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã)
‚îÇ   ‚îî‚îÄ‚îÄ res/                     # –†–µ—Å—É—Ä—Å—ã
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—É
3. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö
4. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —á–∞—Å—Ç–æ—Ç–∞ –∫–æ–ª–µ–±–∞–Ω–∏–π —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏" –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞.

